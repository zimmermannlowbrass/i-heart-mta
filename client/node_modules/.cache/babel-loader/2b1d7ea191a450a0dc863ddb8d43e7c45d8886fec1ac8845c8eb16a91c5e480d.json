{"ast":null,"code":"var _jsxFileName = \"/Users/jameszimmermann/mta_project/i-heart-mta/src/components/Map.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useState, useMemo, useCallback, useRef } from \"react\";\nimport { GoogleMap, Marker, DirectionsRenderer, Circle, MarkerClusterer } from \"@react-google-maps/api\";\nimport Places from \"./places\";\nimport Directions from \"./directions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Map() {\n  _s();\n  const [start, setStart] = useState();\n  const [end, setEnd] = useState();\n  const [directions, setDirections] = useState();\n  const mapRef = useRef();\n  const center = useMemo(() => ({\n    lat: 40.7826,\n    lng: -73.9656\n  }), []);\n  const options = useMemo(() => ({\n    mapId: \"7cb36be43290dc46\",\n    disableDefaultUI: true,\n    clickableIcons: false\n  }), []);\n  const onLoad = useCallback(map => mapRef.current = map, []);\n  const fetchDirections = () => {\n    console.log(start, end);\n    const service = new window.google.maps.DirectionsService();\n    service.route({\n      origin: start,\n      destination: end,\n      travelMode: window.google.maps.TravelMode.TRANSIT,\n      transitOptions: {\n        routingPreference: \"FEWER_TRANSFERS\",\n        modes: ['TRAIN']\n      }\n    }, (result, status) => {\n      if (status === 'OK' && result) {\n        setDirections(result);\n      }\n    });\n  };\n  function subwayfilter(route) {\n    for (const leg in route.routes[0].legs[0].steps) {\n      if (leg.travel_mode === 'TRANSIT') {\n        console.log('TRANSIT!');\n      }\n    }\n    return route;\n  }\n  console.log(directions);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"continer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Commute?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Places, {\n        position: \"start\",\n        setPosition: position => {\n          setStart(position);\n          mapRef.current.panTo(position);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Places, {\n        position: \"end\",\n        setPosition: position => {\n          setEnd(position);\n          mapRef.current.panTo(position);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), start && end ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchDirections,\n        children: \"Directions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        children: directions && /*#__PURE__*/_jsxDEV(Directions, {\n          directions: directions.routes[0].legs[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 36\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map\",\n      children: /*#__PURE__*/_jsxDEV(GoogleMap, {\n        zoom: 14,\n        center: center,\n        mapContainerClassName: \"map-container\",\n        options: options,\n        onLoad: onLoad,\n        children: [directions && /*#__PURE__*/_jsxDEV(DirectionsRenderer, {\n          directions: directions,\n          options: {\n            polylineOptions: {\n              strokeColor: 'red'\n            },\n            suppressMarkers: true\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 22\n        }, this), start && /*#__PURE__*/_jsxDEV(Marker, {\n          position: start\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 32\n        }, this), end && /*#__PURE__*/_jsxDEV(Marker, {\n          position: end\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n_s(Map, \"ew6AiE47P3vShk6U29IYhoDlsa0=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useState","useMemo","useCallback","useRef","GoogleMap","Marker","DirectionsRenderer","Circle","MarkerClusterer","Places","Directions","jsxDEV","_jsxDEV","Map","_s","start","setStart","end","setEnd","directions","setDirections","mapRef","center","lat","lng","options","mapId","disableDefaultUI","clickableIcons","onLoad","map","current","fetchDirections","console","log","service","window","google","maps","DirectionsService","route","origin","destination","travelMode","TravelMode","TRANSIT","transitOptions","routingPreference","modes","result","status","subwayfilter","leg","routes","legs","steps","travel_mode","className","children","fileName","_jsxFileName","lineNumber","columnNumber","position","setPosition","panTo","onClick","zoom","mapContainerClassName","polylineOptions","strokeColor","suppressMarkers","_c","$RefreshReg$"],"sources":["/Users/jameszimmermann/mta_project/i-heart-mta/src/components/Map.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useMemo, useCallback, useRef } from \"react\";\nimport {\n    GoogleMap,\n    Marker,\n    DirectionsRenderer,\n    Circle,\n    MarkerClusterer,\n} from \"@react-google-maps/api\"\n\nimport Places from \"./places\";\nimport Directions from \"./directions\";\n\n\nfunction Map() {\n\n\n    const [start, setStart] = useState()\n    const [end, setEnd] = useState()\n    const [directions, setDirections] = useState()\n    const mapRef = useRef()\n    const center = useMemo(() => ({ lat: 40.7826, lng: -73.9656}), [])\n    const options = useMemo(() => ({\n        mapId: \"7cb36be43290dc46\",\n        disableDefaultUI: true,\n        clickableIcons: false\n    }), [])\n\n\n    const onLoad = useCallback(map => (mapRef.current = map), [])\n    const fetchDirections = () => {\n        console.log(start, end)\n\n        const service = new window.google.maps.DirectionsService()\n        service.route({\n            origin: start,\n            destination: end,\n            travelMode: window.google.maps.TravelMode.TRANSIT,\n            transitOptions: {\n                routingPreference: \"FEWER_TRANSFERS\",\n                modes: ['TRAIN']\n            }\n        }, \n        (result, status) => {\n            if (status === 'OK' && result) {\n                setDirections(result)\n            }\n        })\n    }\n\n    function subwayfilter(route) {\n        for (const leg in route.routes[0].legs[0].steps) {\n            if (leg.travel_mode === 'TRANSIT') {\n                console.log('TRANSIT!')\n            }\n        }\n        return route\n    }\n\n    console.log(directions)\n\n    return(\n        <div className=\"continer\">\n            <div className=\"controls\">\n                <h1>Commute?</h1>\n                <Places \n                    position = \"start\"\n                    setPosition={(position) => {\n                        setStart(position)\n                        mapRef.current.panTo(position)\n                }}\n                />\n                <Places \n                    position = \"end\"\n                    setPosition={(position) => {\n                        setEnd(position)\n                        mapRef.current.panTo(position)\n                }}\n                />\n                {(start && end) ? \n                <button onClick={fetchDirections}>\n                    Directions\n                </button>\n                : null}\n                <div>\n                    {directions && <Directions directions={directions.routes[0].legs[0]}/>}\n                </div>\n            </div>\n            <div className=\"map\">\n                <GoogleMap \n                zoom={14} \n                center={center} \n                mapContainerClassName=\"map-container\"\n                options={options}\n                onLoad={onLoad}\n                >\n                    {directions && \n                    (<DirectionsRenderer directions={directions} options={{\n                        polylineOptions: {\n                            strokeColor:'red'\n                        },\n                        suppressMarkers: true\n                    }}\n                    />)\n                    }\n\n                    {start && (<Marker position={start}/>)}\n                    {end && (<Marker position={end}/>)}\n                </GoogleMap>\n            </div>\n        </div>\n    )\n}\n\nexport default Map;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}