{"ast":null,"code":"\"use strict\";\n\n/**\n  * @reach/combobox v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n// src/reach-combobox.tsx\nimport * as React from \"react\";\nimport { createNamedContext, composeEventHandlers, isFunction, makeId, noop, useComposedRefs, useIsomorphicLayoutEffect as useLayoutEffect, useStatefulRefValue, useUpdateEffect } from \"@reach/utils\";\nimport { createDescendantContext, DescendantProvider, useDescendant, useDescendants, useDescendantsInit } from \"@reach/descendants\";\n\n// src/utils.ts\nfunction findAll({\n  autoEscape,\n  caseSensitive = false,\n  findChunks = defaultFindChunks,\n  sanitize,\n  searchWords,\n  textToHighlight\n}) {\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape,\n        caseSensitive,\n        sanitize,\n        searchWords,\n        textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\nfunction combineChunks({\n  chunks\n}) {\n  return chunks.sort((first, second) => first.start - second.start).reduce((processedChunks, nextChunk) => {\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      const prevChunk = processedChunks.pop();\n      if (nextChunk.start <= prevChunk.end) {\n        const endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n      return processedChunks;\n    }\n  }, []);\n}\nfunction defaultFindChunks({\n  autoEscape,\n  caseSensitive,\n  sanitize = defaultSanitize,\n  searchWords,\n  textToHighlight\n}) {\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter(searchWord => searchWord).reduce((chunks, searchWord) => {\n    searchWord = sanitize(searchWord);\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n    const regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    let match;\n    while (match = regex.exec(textToHighlight || \"\")) {\n      let start = match.index;\n      let end = regex.lastIndex;\n      if (end > start) {\n        chunks.push({\n          highlight: false,\n          start,\n          end\n        });\n      }\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n    return chunks;\n  }, []);\n}\nfunction fillInChunks({\n  chunksToHighlight,\n  totalLength\n}) {\n  const allChunks = [];\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    let lastIndex = 0;\n    chunksToHighlight.forEach(chunk => {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n  return allChunks;\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start,\n        end,\n        highlight\n      });\n    }\n  }\n}\nfunction defaultSanitize(string) {\n  return string;\n}\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\nvar HighlightWords = {\n  combineChunks,\n  fillInChunks,\n  findAll,\n  findChunks: defaultFindChunks\n};\n\n// src/reach-combobox.tsx\nimport { useId } from \"@reach/auto-id\";\nimport { Popover, positionMatchWidth } from \"@reach/popover\";\nvar IDLE = \"IDLE\";\nvar SUGGESTING = \"SUGGESTING\";\nvar NAVIGATING = \"NAVIGATING\";\nvar INTERACTING = \"INTERACTING\";\nvar CLEAR = \"CLEAR\";\nvar CHANGE = \"CHANGE\";\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\";\nvar NAVIGATE = \"NAVIGATE\";\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\";\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\";\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\";\nvar stateChart = {\n  initial: IDLE,\n  states: {\n    [IDLE]: {\n      on: {\n        [BLUR]: IDLE,\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [INITIAL_CHANGE]: IDLE,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [OPEN_WITH_BUTTON]: SUGGESTING,\n        [OPEN_WITH_INPUT_CLICK]: SUGGESTING\n      }\n    },\n    [SUGGESTING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [CLEAR]: IDLE,\n        [ESCAPE]: IDLE,\n        [BLUR]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE,\n        [INTERACT]: INTERACTING,\n        [CLOSE_WITH_BUTTON]: IDLE\n      }\n    },\n    [NAVIGATING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [CLEAR]: IDLE,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [SELECT_WITH_CLICK]: IDLE,\n        [SELECT_WITH_KEYBOARD]: IDLE,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [INTERACT]: INTERACTING\n      }\n    },\n    [INTERACTING]: {\n      on: {\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE\n      }\n    }\n  }\n};\nvar reducer = (data, event) => {\n  let nextState = {\n    ...data,\n    lastEventType: event.type\n  };\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return {\n        ...nextState,\n        navigationValue: null,\n        value: event.value\n      };\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    case CLEAR:\n      return {\n        ...nextState,\n        value: \"\",\n        navigationValue: null\n      };\n    case BLUR:\n    case ESCAPE:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case SELECT_WITH_CLICK:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      };\n    case SELECT_WITH_KEYBOARD:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      };\n    case CLOSE_WITH_BUTTON:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case INTERACT:\n      return nextState;\n    case FOCUS:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    default:\n      return nextState;\n  }\n};\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\nfunction findNavigationValue(stateData, event) {\n  if (event.value) {\n    return event.value;\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\nvar ComboboxDescendantContext = createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = createNamedContext(\"ComboboxContext\", {});\nvar OptionContext = createNamedContext(\"OptionContext\", {});\nvar Combobox = React.forwardRef(({\n  onSelect,\n  openOnFocus = false,\n  children,\n  as: Comp = \"div\",\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  ...props\n}, forwardedRef) => {\n  let [options, setOptions] = useDescendantsInit();\n  let inputRef = React.useRef();\n  let popoverRef = React.useRef();\n  let buttonRef = React.useRef();\n  let autocompletePropRef = React.useRef(false);\n  let persistSelectionRef = React.useRef(false);\n  let defaultData = {\n    value: \"\",\n    navigationValue: null\n  };\n  let [state, data, transition] = useReducerMachine(stateChart, reducer, defaultData);\n  useFocusManagement(data.lastEventType, inputRef);\n  let id = useId(props.id);\n  let listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  let isControlledRef = React.useRef(false);\n  let isExpanded = popoverIsExpanded(state);\n  let context = {\n    ariaLabel,\n    ariaLabelledby,\n    autocompletePropRef,\n    buttonRef,\n    comboboxId: id,\n    data,\n    inputRef,\n    isExpanded,\n    listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus,\n    persistSelectionRef,\n    popoverRef,\n    state,\n    transition,\n    isControlledRef\n  };\n  return /* @__PURE__ */React.createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /* @__PURE__ */React.createElement(ComboboxContext.Provider, {\n    value: context\n  }, /* @__PURE__ */React.createElement(Comp, {\n    ...props,\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || void 0,\n    ref: forwardedRef\n  }, isFunction(children) ? children({\n    id,\n    isExpanded,\n    navigationValue: data.navigationValue ?? null,\n    state\n  }) : children)));\n});\nCombobox.displayName = \"Combobox\";\nvar ComboboxInput = React.forwardRef(({\n  as: Comp = \"input\",\n  selectOnClick = false,\n  autocomplete = true,\n  onClick,\n  onChange,\n  onKeyDown,\n  onBlur,\n  onFocus,\n  value: controlledValue,\n  ...props\n}, forwardedRef) => {\n  let {\n    current: initialControlledValue\n  } = React.useRef(controlledValue);\n  let controlledValueChangedRef = React.useRef(false);\n  useUpdateEffect(() => {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n  let {\n    data: {\n      navigationValue,\n      value,\n      lastEventType\n    },\n    inputRef,\n    state,\n    transition,\n    listboxId,\n    autocompletePropRef,\n    openOnFocus,\n    isExpanded,\n    ariaLabel,\n    ariaLabelledby,\n    persistSelectionRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(inputRef, forwardedRef);\n  let selectOnClickRef = React.useRef(false);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let isControlled = typeof controlledValue !== \"undefined\";\n  let wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n  if (true) {\n    if (!isControlled && wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n    if (isControlled && !wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n  }\n  React.useEffect(() => {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  useLayoutEffect(() => {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  let handleValueChange = React.useCallback(value2 => {\n    if (value2.trim() === \"\") {\n      transition(CLEAR, {\n        isControlled\n      });\n    } else if (value2 === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, {\n        value: value2\n      });\n    } else {\n      transition(CHANGE, {\n        value: value2\n      });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  React.useEffect(() => {\n    if (isControlled && controlledValue !== value && (controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]);\n  React.useEffect(() => {\n    let form = inputRef.current?.form;\n    if (!form) return;\n    function handleReset(event) {\n      transition(CLEAR, {\n        isControlled\n      });\n    }\n    form.addEventListener(\"reset\", handleReset);\n    return () => {\n      form?.removeEventListener(\"reset\", handleReset);\n    };\n  }, [inputRef, isControlled, transition]);\n  function handleChange(event) {\n    let {\n      value: value2\n    } = event.target;\n    if (!isControlled) {\n      handleValueChange(value2);\n    }\n  }\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    }\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      selectOnClickRef.current = false;\n      inputRef.current?.select();\n    }\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n  let inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? navigationValue || controlledValue || value : controlledValue || value;\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : void 0,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? void 0 : ariaLabelledby,\n    role: \"combobox\",\n    ...props,\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  });\n});\nComboboxInput.displayName = \"ComboboxInput\";\nvar ComboboxPopover = React.forwardRef(({\n  as: Comp = \"div\",\n  children,\n  portal = true,\n  onKeyDown,\n  onBlur,\n  position = positionMatchWidth,\n  ...props\n}, forwardedRef) => {\n  let {\n    popoverRef,\n    inputRef,\n    isExpanded,\n    state\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children\n  };\n  return portal ? /* @__PURE__ */React.createElement(Popover, {\n    as: Comp,\n    ...props,\n    ref,\n    \"data-expanded\": isExpanded || void 0,\n    position,\n    targetRef: inputRef,\n    unstable_skipInitialPortalRender: true,\n    ...sharedProps\n  }) : /* @__PURE__ */React.createElement(Comp, {\n    ref,\n    ...props,\n    ...sharedProps\n  });\n});\nComboboxPopover.displayName = \"ComboboxPopover\";\nvar ComboboxList = React.forwardRef(({\n  persistSelection = false,\n  as: Comp = \"ul\",\n  ...props\n}, forwardedRef) => {\n  let {\n    persistSelectionRef,\n    listboxId\n  } = React.useContext(ComboboxContext);\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n  return /* @__PURE__ */React.createElement(Comp, {\n    role: \"listbox\",\n    ...props,\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  });\n});\nComboboxList.displayName = \"ComboboxList\";\nvar ComboboxOption = React.forwardRef(({\n  as: Comp = \"li\",\n  children,\n  index: indexProp,\n  value,\n  onClick,\n  ...props\n}, forwardedRef) => {\n  let {\n    onSelect,\n    data: {\n      navigationValue\n    },\n    transition,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ownRef = React.useRef(null);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      value\n    };\n  }, [value, element]);\n  let index = useDescendant(descendant, ComboboxDescendantContext, indexProp);\n  let ref = useComposedRefs(forwardedRef, handleRefSet);\n  let isActive = navigationValue === value;\n  let handleClick = () => {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value,\n      isControlled: isControlledRef.current\n    });\n  };\n  return /* @__PURE__ */React.createElement(OptionContext.Provider, {\n    value: {\n      value,\n      index\n    }\n  }, /* @__PURE__ */React.createElement(Comp, {\n    \"aria-selected\": isActive,\n    role: \"option\",\n    ...props,\n    \"data-reach-combobox-option\": \"\",\n    ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : void 0,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }, children ? isFunction(children) ? children({\n    value,\n    index\n  }) : children : /* @__PURE__ */React.createElement(ComboboxOptionText, null)));\n});\nComboboxOption.displayName = \"ComboboxOption\";\nfunction ComboboxOptionText() {\n  let {\n    value\n  } = React.useContext(OptionContext);\n  let {\n    data: {\n      value: contextValue\n    }\n  } = React.useContext(ComboboxContext);\n  let results = React.useMemo(() => HighlightWords.findAll({\n    searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n    textToHighlight: value\n  }), [contextValue, value]);\n  return /* @__PURE__ */React.createElement(React.Fragment, null, results.length ? results.map((result, index) => {\n    let str = value.slice(result.start, result.end);\n    return /* @__PURE__ */React.createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : void 0,\n      \"data-suggested-value\": result.highlight ? void 0 : true\n    }, str);\n  }) : value);\n}\nComboboxOptionText.displayName = \"ComboboxOptionText\";\nvar ComboboxButton = React.forwardRef(({\n  as: Comp = \"button\",\n  onClick,\n  onKeyDown,\n  ...props\n}, forwardedRef) => {\n  let {\n    transition,\n    state,\n    buttonRef,\n    listboxId,\n    isExpanded\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(buttonRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleClick = () => {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n  return /* @__PURE__ */React.createElement(Comp, {\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded,\n    ...props,\n    \"data-reach-combobox-button\": \"\",\n    ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  });\n});\nComboboxButton.displayName = \"ComboboxButton\";\nfunction useFocusManagement(lastEventType, inputRef) {\n  useLayoutEffect(() => {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      inputRef.current?.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\nfunction useKeyDown() {\n  let {\n    data: {\n      navigationValue\n    },\n    onSelect,\n    state,\n    transition,\n    autocompletePropRef,\n    persistSelectionRef,\n    inputRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    let index = options.findIndex(({\n      value\n    }) => value === navigationValue);\n    function getNextOption() {\n      let atBottom = index === options.length - 1;\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getFirstOption();\n        }\n      } else {\n        return options[(index + 1) % options.length];\n      }\n    }\n    function getPreviousOption() {\n      let atTop = index === 0;\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        return getLastOption();\n      } else {\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n    function getFirstOption() {\n      return options[0];\n    }\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n    let textareaHasMultilineValue = inputRef.current?.tagName.toUpperCase() === \"TEXTAREA\" && inputRef.current.value.includes(`\n`);\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let next = getNextOption();\n          transition(NAVIGATE, {\n            value: next ? next.value : null\n          });\n        }\n        break;\n      case \"ArrowUp\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let prev = getPreviousOption();\n          transition(NAVIGATE, {\n            value: prev ? prev.value : null\n          });\n        }\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getFirstOption().value\n          });\n        }\n        break;\n      case \"End\":\n      case \"PageDown\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, {\n            value: getLastOption().value\n          });\n        }\n        break;\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n        break;\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n        break;\n    }\n  };\n}\nfunction useBlur() {\n  let {\n    state,\n    transition,\n    popoverRef,\n    inputRef,\n    buttonRef\n  } = React.useContext(ComboboxContext);\n  return function handleBlur(event) {\n    let popover = popoverRef.current;\n    let input = inputRef.current;\n    let button = buttonRef.current;\n    let activeElement = event.relatedTarget;\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        transition(BLUR);\n      }\n    }\n  };\n}\nfunction useReducerMachine(chart, reducer2, initialData) {\n  let [state, setState] = React.useState(chart.initial);\n  let [data, dispatch] = React.useReducer(reducer2, initialData);\n  let transition = (event, payload = {}) => {\n    let currentState = chart.states[state];\n    let nextState = currentState && currentState.on[event];\n    if (nextState) {\n      dispatch({\n        type: event,\n        state,\n        nextState: state,\n        ...payload\n      });\n      setState(nextState);\n      return;\n    }\n  };\n  return [state, data, transition];\n}\nfunction makeHash(str) {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash = hash & hash;\n  }\n  return hash;\n}\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n}\nfunction useComboboxContext() {\n  let {\n    isExpanded,\n    comboboxId,\n    data,\n    state\n  } = React.useContext(ComboboxContext);\n  let {\n    navigationValue\n  } = data;\n  return React.useMemo(() => ({\n    id: comboboxId,\n    isExpanded,\n    navigationValue: navigationValue ?? null,\n    state\n  }), [comboboxId, isExpanded, navigationValue, state]);\n}\nfunction useComboboxOptionContext() {\n  let {\n    value,\n    index\n  } = React.useContext(OptionContext);\n  return React.useMemo(() => ({\n    value,\n    index\n  }), [value, index]);\n}\nexport { Combobox, ComboboxButton, ComboboxInput, ComboboxList, ComboboxOption, ComboboxOptionText, ComboboxPopover, escapeRegexp, useKeyDown as unstable_useKeyDown, useComboboxContext, useComboboxOptionContext };","map":{"version":3,"names":["React","createNamedContext","composeEventHandlers","isFunction","makeId","noop","useComposedRefs","useIsomorphicLayoutEffect","useLayoutEffect","useStatefulRefValue","useUpdateEffect","createDescendantContext","DescendantProvider","useDescendant","useDescendants","useDescendantsInit","findAll","autoEscape","caseSensitive","findChunks","defaultFindChunks","sanitize","searchWords","textToHighlight","fillInChunks","chunksToHighlight","combineChunks","chunks","totalLength","length","sort","first","second","start","reduce","processedChunks","nextChunk","prevChunk","pop","end","endIndex","Math","max","push","highlight","defaultSanitize","filter","searchWord","escapeRegExpFn","regex","RegExp","match","exec","index","lastIndex","allChunks","append","forEach","chunk","string","replace","HighlightWords","useId","Popover","positionMatchWidth","IDLE","SUGGESTING","NAVIGATING","INTERACTING","CLEAR","CHANGE","INITIAL_CHANGE","NAVIGATE","SELECT_WITH_KEYBOARD","SELECT_WITH_CLICK","ESCAPE","BLUR","INTERACT","FOCUS","OPEN_WITH_BUTTON","OPEN_WITH_INPUT_CLICK","CLOSE_WITH_BUTTON","stateChart","initial","states","on","reducer","data","event","nextState","lastEventType","type","navigationValue","value","findNavigationValue","isControlled","popoverIsExpanded","state","includes","stateData","persistSelection","ComboboxDescendantContext","ComboboxContext","OptionContext","Combobox","forwardRef","onSelect","openOnFocus","children","as","Comp","ariaLabel","ariaLabelledby","props","forwardedRef","options","setOptions","inputRef","useRef","popoverRef","buttonRef","autocompletePropRef","persistSelectionRef","defaultData","transition","useReducerMachine","useFocusManagement","id","listboxId","isControlledRef","isExpanded","context","comboboxId","createElement","items","set","Provider","getDataState","ref","displayName","ComboboxInput","selectOnClick","autocomplete","onClick","onChange","onKeyDown","onBlur","onFocus","controlledValue","current","initialControlledValue","controlledValueChangedRef","useContext","selectOnClickRef","handleKeyDown","useKeyDown","handleBlur","useBlur","wasInitiallyControlled","console","warn","useEffect","handleValueChange","useCallback","value2","trim","form","handleReset","addEventListener","removeEventListener","handleChange","target","handleFocus","handleClick","select","inputValue","String","makeHash","role","ComboboxPopover","portal","position","sharedProps","hidden","tabIndex","targetRef","unstable_skipInitialPortalRender","ComboboxList","ComboboxOption","indexProp","ownRef","element","handleRefSet","descendant","useMemo","isActive","ComboboxOptionText","contextValue","results","escapeRegexp","split","Fragment","map","result","str","slice","key","ComboboxButton","focus","findIndex","getNextOption","atBottom","getFirstOption","getPreviousOption","atTop","getLastOption","textareaHasMultilineValue","tagName","toUpperCase","preventDefault","next","prev","popover","input","button","activeElement","relatedTarget","contains","chart","reducer2","initialData","setState","useState","dispatch","useReducer","payload","currentState","hash","i","charCodeAt","toLowerCase","useComboboxContext","useComboboxOptionContext","unstable_useKeyDown"],"sources":["/Users/jameszimmermann/mta_project/i-heart-mta/client/node_modules/@reach/combobox/dist/reach-combobox.mjs"],"sourcesContent":["\"use strict\";\n/**\n  * @reach/combobox v0.18.0\n  *\n  * Copyright (c) 2018-2022, React Training LLC\n  *\n  * This source code is licensed under the MIT license found in the\n  * LICENSE.md file in the root directory of this source tree.\n  *\n  * @license MIT\n  */\n\n\n// src/reach-combobox.tsx\nimport * as React from \"react\";\nimport {\n  createNamedContext,\n  composeEventHandlers,\n  isFunction,\n  makeId,\n  noop,\n  useComposedRefs,\n  useIsomorphicLayoutEffect as useLayoutEffect,\n  useStatefulRefValue,\n  useUpdateEffect\n} from \"@reach/utils\";\nimport {\n  createDescendantContext,\n  DescendantProvider,\n  useDescendant,\n  useDescendants,\n  useDescendantsInit\n} from \"@reach/descendants\";\n\n// src/utils.ts\nfunction findAll({\n  autoEscape,\n  caseSensitive = false,\n  findChunks = defaultFindChunks,\n  sanitize,\n  searchWords,\n  textToHighlight\n}) {\n  return fillInChunks({\n    chunksToHighlight: combineChunks({\n      chunks: findChunks({\n        autoEscape,\n        caseSensitive,\n        sanitize,\n        searchWords,\n        textToHighlight\n      })\n    }),\n    totalLength: textToHighlight ? textToHighlight.length : 0\n  });\n}\nfunction combineChunks({ chunks }) {\n  return chunks.sort((first, second) => first.start - second.start).reduce((processedChunks, nextChunk) => {\n    if (processedChunks.length === 0) {\n      return [nextChunk];\n    } else {\n      const prevChunk = processedChunks.pop();\n      if (nextChunk.start <= prevChunk.end) {\n        const endIndex = Math.max(prevChunk.end, nextChunk.end);\n        processedChunks.push({\n          highlight: false,\n          start: prevChunk.start,\n          end: endIndex\n        });\n      } else {\n        processedChunks.push(prevChunk, nextChunk);\n      }\n      return processedChunks;\n    }\n  }, []);\n}\nfunction defaultFindChunks({\n  autoEscape,\n  caseSensitive,\n  sanitize = defaultSanitize,\n  searchWords,\n  textToHighlight\n}) {\n  textToHighlight = sanitize(textToHighlight || \"\");\n  return searchWords.filter((searchWord) => searchWord).reduce((chunks, searchWord) => {\n    searchWord = sanitize(searchWord);\n    if (autoEscape) {\n      searchWord = escapeRegExpFn(searchWord);\n    }\n    const regex = new RegExp(searchWord, caseSensitive ? \"g\" : \"gi\");\n    let match;\n    while (match = regex.exec(textToHighlight || \"\")) {\n      let start = match.index;\n      let end = regex.lastIndex;\n      if (end > start) {\n        chunks.push({ highlight: false, start, end });\n      }\n      if (match.index === regex.lastIndex) {\n        regex.lastIndex++;\n      }\n    }\n    return chunks;\n  }, []);\n}\nfunction fillInChunks({\n  chunksToHighlight,\n  totalLength\n}) {\n  const allChunks = [];\n  if (chunksToHighlight.length === 0) {\n    append(0, totalLength, false);\n  } else {\n    let lastIndex = 0;\n    chunksToHighlight.forEach((chunk) => {\n      append(lastIndex, chunk.start, false);\n      append(chunk.start, chunk.end, true);\n      lastIndex = chunk.end;\n    });\n    append(lastIndex, totalLength, false);\n  }\n  return allChunks;\n  function append(start, end, highlight) {\n    if (end - start > 0) {\n      allChunks.push({\n        start,\n        end,\n        highlight\n      });\n    }\n  }\n}\nfunction defaultSanitize(string) {\n  return string;\n}\nfunction escapeRegExpFn(string) {\n  return string.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, \"\\\\$&\");\n}\nvar HighlightWords = {\n  combineChunks,\n  fillInChunks,\n  findAll,\n  findChunks: defaultFindChunks\n};\n\n// src/reach-combobox.tsx\nimport { useId } from \"@reach/auto-id\";\nimport { Popover, positionMatchWidth } from \"@reach/popover\";\nvar IDLE = \"IDLE\";\nvar SUGGESTING = \"SUGGESTING\";\nvar NAVIGATING = \"NAVIGATING\";\nvar INTERACTING = \"INTERACTING\";\nvar CLEAR = \"CLEAR\";\nvar CHANGE = \"CHANGE\";\nvar INITIAL_CHANGE = \"INITIAL_CHANGE\";\nvar NAVIGATE = \"NAVIGATE\";\nvar SELECT_WITH_KEYBOARD = \"SELECT_WITH_KEYBOARD\";\nvar SELECT_WITH_CLICK = \"SELECT_WITH_CLICK\";\nvar ESCAPE = \"ESCAPE\";\nvar BLUR = \"BLUR\";\nvar INTERACT = \"INTERACT\";\nvar FOCUS = \"FOCUS\";\nvar OPEN_WITH_BUTTON = \"OPEN_WITH_BUTTON\";\nvar OPEN_WITH_INPUT_CLICK = \"OPEN_WITH_INPUT_CLICK\";\nvar CLOSE_WITH_BUTTON = \"CLOSE_WITH_BUTTON\";\nvar stateChart = {\n  initial: IDLE,\n  states: {\n    [IDLE]: {\n      on: {\n        [BLUR]: IDLE,\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [INITIAL_CHANGE]: IDLE,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [OPEN_WITH_BUTTON]: SUGGESTING,\n        [OPEN_WITH_INPUT_CLICK]: SUGGESTING\n      }\n    },\n    [SUGGESTING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [NAVIGATE]: NAVIGATING,\n        [CLEAR]: IDLE,\n        [ESCAPE]: IDLE,\n        [BLUR]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE,\n        [INTERACT]: INTERACTING,\n        [CLOSE_WITH_BUTTON]: IDLE\n      }\n    },\n    [NAVIGATING]: {\n      on: {\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [CLEAR]: IDLE,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [SELECT_WITH_CLICK]: IDLE,\n        [SELECT_WITH_KEYBOARD]: IDLE,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [INTERACT]: INTERACTING\n      }\n    },\n    [INTERACTING]: {\n      on: {\n        [CLEAR]: IDLE,\n        [CHANGE]: SUGGESTING,\n        [FOCUS]: SUGGESTING,\n        [BLUR]: IDLE,\n        [ESCAPE]: IDLE,\n        [NAVIGATE]: NAVIGATING,\n        [CLOSE_WITH_BUTTON]: IDLE,\n        [SELECT_WITH_CLICK]: IDLE\n      }\n    }\n  }\n};\nvar reducer = (data, event) => {\n  let nextState = { ...data, lastEventType: event.type };\n  switch (event.type) {\n    case CHANGE:\n    case INITIAL_CHANGE:\n      return {\n        ...nextState,\n        navigationValue: null,\n        value: event.value\n      };\n    case NAVIGATE:\n    case OPEN_WITH_BUTTON:\n    case OPEN_WITH_INPUT_CLICK:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    case CLEAR:\n      return {\n        ...nextState,\n        value: \"\",\n        navigationValue: null\n      };\n    case BLUR:\n    case ESCAPE:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case SELECT_WITH_CLICK:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : event.value,\n        navigationValue: null\n      };\n    case SELECT_WITH_KEYBOARD:\n      return {\n        ...nextState,\n        value: event.isControlled ? data.value : data.navigationValue,\n        navigationValue: null\n      };\n    case CLOSE_WITH_BUTTON:\n      return {\n        ...nextState,\n        navigationValue: null\n      };\n    case INTERACT:\n      return nextState;\n    case FOCUS:\n      return {\n        ...nextState,\n        navigationValue: findNavigationValue(nextState, event)\n      };\n    default:\n      return nextState;\n  }\n};\nfunction popoverIsExpanded(state) {\n  return [SUGGESTING, NAVIGATING, INTERACTING].includes(state);\n}\nfunction findNavigationValue(stateData, event) {\n  if (event.value) {\n    return event.value;\n  } else if (event.persistSelection) {\n    return stateData.value;\n  } else {\n    return null;\n  }\n}\nvar ComboboxDescendantContext = createDescendantContext(\"ComboboxDescendantContext\");\nvar ComboboxContext = createNamedContext(\"ComboboxContext\", {});\nvar OptionContext = createNamedContext(\"OptionContext\", {});\nvar Combobox = React.forwardRef(({\n  onSelect,\n  openOnFocus = false,\n  children,\n  as: Comp = \"div\",\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  ...props\n}, forwardedRef) => {\n  let [options, setOptions] = useDescendantsInit();\n  let inputRef = React.useRef();\n  let popoverRef = React.useRef();\n  let buttonRef = React.useRef();\n  let autocompletePropRef = React.useRef(false);\n  let persistSelectionRef = React.useRef(false);\n  let defaultData = {\n    value: \"\",\n    navigationValue: null\n  };\n  let [state, data, transition] = useReducerMachine(stateChart, reducer, defaultData);\n  useFocusManagement(data.lastEventType, inputRef);\n  let id = useId(props.id);\n  let listboxId = id ? makeId(\"listbox\", id) : \"listbox\";\n  let isControlledRef = React.useRef(false);\n  let isExpanded = popoverIsExpanded(state);\n  let context = {\n    ariaLabel,\n    ariaLabelledby,\n    autocompletePropRef,\n    buttonRef,\n    comboboxId: id,\n    data,\n    inputRef,\n    isExpanded,\n    listboxId,\n    onSelect: onSelect || noop,\n    openOnFocus,\n    persistSelectionRef,\n    popoverRef,\n    state,\n    transition,\n    isControlledRef\n  };\n  return /* @__PURE__ */ React.createElement(DescendantProvider, {\n    context: ComboboxDescendantContext,\n    items: options,\n    set: setOptions\n  }, /* @__PURE__ */ React.createElement(ComboboxContext.Provider, {\n    value: context\n  }, /* @__PURE__ */ React.createElement(Comp, {\n    ...props,\n    \"data-reach-combobox\": \"\",\n    \"data-state\": getDataState(state),\n    \"data-expanded\": isExpanded || void 0,\n    ref: forwardedRef\n  }, isFunction(children) ? children({\n    id,\n    isExpanded,\n    navigationValue: data.navigationValue ?? null,\n    state\n  }) : children)));\n});\nCombobox.displayName = \"Combobox\";\nvar ComboboxInput = React.forwardRef(({\n  as: Comp = \"input\",\n  selectOnClick = false,\n  autocomplete = true,\n  onClick,\n  onChange,\n  onKeyDown,\n  onBlur,\n  onFocus,\n  value: controlledValue,\n  ...props\n}, forwardedRef) => {\n  let { current: initialControlledValue } = React.useRef(controlledValue);\n  let controlledValueChangedRef = React.useRef(false);\n  useUpdateEffect(() => {\n    controlledValueChangedRef.current = true;\n  }, [controlledValue]);\n  let {\n    data: { navigationValue, value, lastEventType },\n    inputRef,\n    state,\n    transition,\n    listboxId,\n    autocompletePropRef,\n    openOnFocus,\n    isExpanded,\n    ariaLabel,\n    ariaLabelledby,\n    persistSelectionRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(inputRef, forwardedRef);\n  let selectOnClickRef = React.useRef(false);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let isControlled = typeof controlledValue !== \"undefined\";\n  let wasInitiallyControlled = typeof initialControlledValue !== \"undefined\";\n  if (true) {\n    if (!isControlled && wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from controlled to uncontrolled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n    if (isControlled && !wasInitiallyControlled) {\n      console.warn(\"ComboboxInput is changing from uncontrolled to controlled. ComboboxInput should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled ComboboxInput for the lifetime of the component. Check the `value` prop being passed in.\");\n    }\n  }\n  React.useEffect(() => {\n    isControlledRef.current = isControlled;\n  }, [isControlled]);\n  useLayoutEffect(() => {\n    autocompletePropRef.current = autocomplete;\n  }, [autocomplete, autocompletePropRef]);\n  let handleValueChange = React.useCallback((value2) => {\n    if (value2.trim() === \"\") {\n      transition(CLEAR, { isControlled });\n    } else if (value2 === initialControlledValue && !controlledValueChangedRef.current) {\n      transition(INITIAL_CHANGE, { value: value2 });\n    } else {\n      transition(CHANGE, { value: value2 });\n    }\n  }, [initialControlledValue, transition, isControlled]);\n  React.useEffect(() => {\n    if (isControlled && controlledValue !== value && (controlledValue.trim() === \"\" ? (value || \"\").trim() !== \"\" : true)) {\n      handleValueChange(controlledValue);\n    }\n  }, [controlledValue, handleValueChange, isControlled, value]);\n  React.useEffect(() => {\n    let form = inputRef.current?.form;\n    if (!form)\n      return;\n    function handleReset(event) {\n      transition(CLEAR, { isControlled });\n    }\n    form.addEventListener(\"reset\", handleReset);\n    return () => {\n      form?.removeEventListener(\"reset\", handleReset);\n    };\n  }, [inputRef, isControlled, transition]);\n  function handleChange(event) {\n    let { value: value2 } = event.target;\n    if (!isControlled) {\n      handleValueChange(value2);\n    }\n  }\n  function handleFocus() {\n    if (selectOnClick) {\n      selectOnClickRef.current = true;\n    }\n    if (openOnFocus && lastEventType !== SELECT_WITH_CLICK) {\n      transition(FOCUS, {\n        persistSelection: persistSelectionRef.current\n      });\n    }\n  }\n  function handleClick() {\n    if (selectOnClickRef.current) {\n      selectOnClickRef.current = false;\n      inputRef.current?.select();\n    }\n    if (openOnFocus && state === IDLE) {\n      transition(OPEN_WITH_INPUT_CLICK);\n    }\n  }\n  let inputValue = autocomplete && (state === NAVIGATING || state === INTERACTING) ? navigationValue || controlledValue || value : controlledValue || value;\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-activedescendant\": navigationValue ? String(makeHash(navigationValue)) : void 0,\n    \"aria-autocomplete\": \"both\",\n    \"aria-controls\": listboxId,\n    \"aria-expanded\": isExpanded,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-label\": ariaLabel,\n    \"aria-labelledby\": ariaLabel ? void 0 : ariaLabelledby,\n    role: \"combobox\",\n    ...props,\n    \"data-reach-combobox-input\": \"\",\n    \"data-state\": getDataState(state),\n    ref,\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    onChange: composeEventHandlers(onChange, handleChange),\n    onClick: composeEventHandlers(onClick, handleClick),\n    onFocus: composeEventHandlers(onFocus, handleFocus),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    value: inputValue || \"\"\n  });\n});\nComboboxInput.displayName = \"ComboboxInput\";\nvar ComboboxPopover = React.forwardRef(({\n  as: Comp = \"div\",\n  children,\n  portal = true,\n  onKeyDown,\n  onBlur,\n  position = positionMatchWidth,\n  ...props\n}, forwardedRef) => {\n  let { popoverRef, inputRef, isExpanded, state } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(popoverRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleBlur = useBlur();\n  let sharedProps = {\n    \"data-reach-combobox-popover\": \"\",\n    \"data-state\": getDataState(state),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown),\n    onBlur: composeEventHandlers(onBlur, handleBlur),\n    hidden: !isExpanded,\n    tabIndex: -1,\n    children\n  };\n  return portal ? /* @__PURE__ */ React.createElement(Popover, {\n    as: Comp,\n    ...props,\n    ref,\n    \"data-expanded\": isExpanded || void 0,\n    position,\n    targetRef: inputRef,\n    unstable_skipInitialPortalRender: true,\n    ...sharedProps\n  }) : /* @__PURE__ */ React.createElement(Comp, {\n    ref,\n    ...props,\n    ...sharedProps\n  });\n});\nComboboxPopover.displayName = \"ComboboxPopover\";\nvar ComboboxList = React.forwardRef(({\n  persistSelection = false,\n  as: Comp = \"ul\",\n  ...props\n}, forwardedRef) => {\n  let { persistSelectionRef, listboxId } = React.useContext(ComboboxContext);\n  if (persistSelection) {\n    persistSelectionRef.current = true;\n  }\n  return /* @__PURE__ */ React.createElement(Comp, {\n    role: \"listbox\",\n    ...props,\n    ref: forwardedRef,\n    \"data-reach-combobox-list\": \"\",\n    id: listboxId\n  });\n});\nComboboxList.displayName = \"ComboboxList\";\nvar ComboboxOption = React.forwardRef(({ as: Comp = \"li\", children, index: indexProp, value, onClick, ...props }, forwardedRef) => {\n  let {\n    onSelect,\n    data: { navigationValue },\n    transition,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let ownRef = React.useRef(null);\n  let [element, handleRefSet] = useStatefulRefValue(ownRef, null);\n  let descendant = React.useMemo(() => {\n    return {\n      element,\n      value\n    };\n  }, [value, element]);\n  let index = useDescendant(descendant, ComboboxDescendantContext, indexProp);\n  let ref = useComposedRefs(forwardedRef, handleRefSet);\n  let isActive = navigationValue === value;\n  let handleClick = () => {\n    onSelect && onSelect(value);\n    transition(SELECT_WITH_CLICK, {\n      value,\n      isControlled: isControlledRef.current\n    });\n  };\n  return /* @__PURE__ */ React.createElement(OptionContext.Provider, {\n    value: { value, index }\n  }, /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-selected\": isActive,\n    role: \"option\",\n    ...props,\n    \"data-reach-combobox-option\": \"\",\n    ref,\n    id: String(makeHash(value)),\n    \"data-highlighted\": isActive ? \"\" : void 0,\n    tabIndex: -1,\n    onClick: composeEventHandlers(onClick, handleClick)\n  }, children ? isFunction(children) ? children({ value, index }) : children : /* @__PURE__ */ React.createElement(ComboboxOptionText, null)));\n});\nComboboxOption.displayName = \"ComboboxOption\";\nfunction ComboboxOptionText() {\n  let { value } = React.useContext(OptionContext);\n  let {\n    data: { value: contextValue }\n  } = React.useContext(ComboboxContext);\n  let results = React.useMemo(() => HighlightWords.findAll({\n    searchWords: escapeRegexp(contextValue || \"\").split(/\\s+/),\n    textToHighlight: value\n  }), [contextValue, value]);\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, results.length ? results.map((result, index) => {\n    let str = value.slice(result.start, result.end);\n    return /* @__PURE__ */ React.createElement(\"span\", {\n      key: index,\n      \"data-reach-combobox-option-text\": \"\",\n      \"data-user-value\": result.highlight ? true : void 0,\n      \"data-suggested-value\": result.highlight ? void 0 : true\n    }, str);\n  }) : value);\n}\nComboboxOptionText.displayName = \"ComboboxOptionText\";\nvar ComboboxButton = React.forwardRef(({ as: Comp = \"button\", onClick, onKeyDown, ...props }, forwardedRef) => {\n  let { transition, state, buttonRef, listboxId, isExpanded } = React.useContext(ComboboxContext);\n  let ref = useComposedRefs(buttonRef, forwardedRef);\n  let handleKeyDown = useKeyDown();\n  let handleClick = () => {\n    if (state === IDLE) {\n      transition(OPEN_WITH_BUTTON);\n    } else {\n      transition(CLOSE_WITH_BUTTON);\n    }\n  };\n  return /* @__PURE__ */ React.createElement(Comp, {\n    \"aria-controls\": listboxId,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-expanded\": isExpanded,\n    ...props,\n    \"data-reach-combobox-button\": \"\",\n    ref,\n    onClick: composeEventHandlers(onClick, handleClick),\n    onKeyDown: composeEventHandlers(onKeyDown, handleKeyDown)\n  });\n});\nComboboxButton.displayName = \"ComboboxButton\";\nfunction useFocusManagement(lastEventType, inputRef) {\n  useLayoutEffect(() => {\n    if (lastEventType === NAVIGATE || lastEventType === ESCAPE || lastEventType === SELECT_WITH_CLICK || lastEventType === OPEN_WITH_BUTTON) {\n      inputRef.current?.focus();\n    }\n  }, [inputRef, lastEventType]);\n}\nfunction useKeyDown() {\n  let {\n    data: { navigationValue },\n    onSelect,\n    state,\n    transition,\n    autocompletePropRef,\n    persistSelectionRef,\n    inputRef,\n    isControlledRef\n  } = React.useContext(ComboboxContext);\n  let options = useDescendants(ComboboxDescendantContext);\n  return function handleKeyDown(event) {\n    let index = options.findIndex(({ value }) => value === navigationValue);\n    function getNextOption() {\n      let atBottom = index === options.length - 1;\n      if (atBottom) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getFirstOption();\n        }\n      } else {\n        return options[(index + 1) % options.length];\n      }\n    }\n    function getPreviousOption() {\n      let atTop = index === 0;\n      if (atTop) {\n        if (autocompletePropRef.current) {\n          return null;\n        } else {\n          return getLastOption();\n        }\n      } else if (index === -1) {\n        return getLastOption();\n      } else {\n        return options[(index - 1 + options.length) % options.length];\n      }\n    }\n    function getFirstOption() {\n      return options[0];\n    }\n    function getLastOption() {\n      return options[options.length - 1];\n    }\n    let textareaHasMultilineValue = inputRef.current?.tagName.toUpperCase() === \"TEXTAREA\" && inputRef.current.value.includes(`\n`);\n    switch (event.key) {\n      case \"ArrowDown\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let next = getNextOption();\n          transition(NAVIGATE, { value: next ? next.value : null });\n        }\n        break;\n      case \"ArrowUp\":\n        if (!options || !options.length) {\n          return;\n        }\n        if (state === IDLE) {\n          if (textareaHasMultilineValue) {\n            return;\n          }\n          event.preventDefault();\n          transition(NAVIGATE, {\n            persistSelection: persistSelectionRef.current\n          });\n        } else {\n          event.preventDefault();\n          let prev = getPreviousOption();\n          transition(NAVIGATE, { value: prev ? prev.value : null });\n        }\n        break;\n      case \"Home\":\n      case \"PageUp\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, { value: getFirstOption().value });\n        }\n        break;\n      case \"End\":\n      case \"PageDown\":\n        event.preventDefault();\n        if (!options || options.length === 0) {\n          return;\n        }\n        if (state === IDLE) {\n          transition(NAVIGATE);\n        } else {\n          transition(NAVIGATE, { value: getLastOption().value });\n        }\n        break;\n      case \"Escape\":\n        if (state !== IDLE) {\n          transition(ESCAPE);\n        }\n        break;\n      case \"Enter\":\n        if (state === NAVIGATING && navigationValue !== null) {\n          event.preventDefault();\n          onSelect && onSelect(navigationValue);\n          transition(SELECT_WITH_KEYBOARD, {\n            isControlled: isControlledRef.current\n          });\n        }\n        break;\n    }\n  };\n}\nfunction useBlur() {\n  let { state, transition, popoverRef, inputRef, buttonRef } = React.useContext(ComboboxContext);\n  return function handleBlur(event) {\n    let popover = popoverRef.current;\n    let input = inputRef.current;\n    let button = buttonRef.current;\n    let activeElement = event.relatedTarget;\n    if (activeElement !== input && activeElement !== button && popover) {\n      if (popover.contains(activeElement)) {\n        if (state !== INTERACTING) {\n          transition(INTERACT);\n        }\n      } else {\n        transition(BLUR);\n      }\n    }\n  };\n}\nfunction useReducerMachine(chart, reducer2, initialData) {\n  let [state, setState] = React.useState(chart.initial);\n  let [data, dispatch] = React.useReducer(reducer2, initialData);\n  let transition = (event, payload = {}) => {\n    let currentState = chart.states[state];\n    let nextState = currentState && currentState.on[event];\n    if (nextState) {\n      dispatch({ type: event, state, nextState: state, ...payload });\n      setState(nextState);\n      return;\n    }\n  };\n  return [state, data, transition];\n}\nfunction makeHash(str) {\n  let hash = 0;\n  if (str.length === 0) {\n    return hash;\n  }\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash = hash & hash;\n  }\n  return hash;\n}\nfunction getDataState(state) {\n  return state.toLowerCase();\n}\nfunction escapeRegexp(str) {\n  return String(str).replace(/([.*+?=^!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n}\nfunction useComboboxContext() {\n  let { isExpanded, comboboxId, data, state } = React.useContext(ComboboxContext);\n  let { navigationValue } = data;\n  return React.useMemo(() => ({\n    id: comboboxId,\n    isExpanded,\n    navigationValue: navigationValue ?? null,\n    state\n  }), [comboboxId, isExpanded, navigationValue, state]);\n}\nfunction useComboboxOptionContext() {\n  let { value, index } = React.useContext(OptionContext);\n  return React.useMemo(() => ({\n    value,\n    index\n  }), [value, index]);\n}\nexport {\n  Combobox,\n  ComboboxButton,\n  ComboboxInput,\n  ComboboxList,\n  ComboboxOption,\n  ComboboxOptionText,\n  ComboboxPopover,\n  escapeRegexp,\n  useKeyDown as unstable_useKeyDown,\n  useComboboxContext,\n  useComboboxOptionContext\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}